<?php 
/*	
******
	Работа скрипта заключается в том, что из полученого файла строка разбивается в массив с помощью разделителя '\x0A'.
	Далее происходит сортировка массива по возрастанию. В значении полученного массива в виде строки записан ключ и его значения с разделитем '\t'
	В цикле запускаем поиск нужного ключа разбивая с помощью '\t', при этом делим длину массива пополам и сравниваем полученый ключ с тем что нужно найти
	В переменную $file_parse записывается новый массив, либо первая половина обработанного $file_parse, либо вторая
	
*****
  Описание переременных
  *	
	* $filename - путь текстового файла, с которого читается строка
	* $val_key - значение ключа, по которому производится бинарный поиск
	* В $val_key можно подставить любое значение по условию задачи
	* $leng - длина обрабатываемого массива, полученная целочисленным делением и выбором порядка ключа файлового массива
	* $file_parse - массив, полученный разбитием строки с помощью '\x0A', в значении которого находится ключ и значение соединенного разделителем '\t'
	* $arr_file  - массив, полученый из значения массива $file_parse[$leng/2] разбитый разделителем '\t'
	* $str - результат для вывода
*/

// переменные для запуска
$filename = "txt/text2.txt";
$val_key = '022e3e45ce81bc40a9d5a7292313d222f8830ceeaa4f490fe983df6270e7b9b858e1b6445e727046d6432e5a895bebadd4b58d426cf90ac86ea8261dfa0990e3fe1257b570708c834e11bcfd4502f983fc3b4c71e0171e21746d896fbebbe313718dc67e6454915a2c7b8f880a50ba3dbfeed62033e9b2dda86f6c89203bb992b8c51ae5ed37c8f490681e1de11801dffe1c4025de6fba830fdc6f4a6f0dd6388d4806b226361f56e5f83db9bff88ecc41a83e7b7b6708a0a4fd3628ca2afb2caad45c5278487ed6160d4788db0c3a7b8d9836a811b70d1b9dfc1db3307069866471331e24d96a634055a57f7023a6e1e2aa1b1864b8a29585379b2a080edf32fb6f27a5360fb54150f2603d493df8370d1dff8e28236cd1eb16dd491fd15e64a982592d0b337a1c209f7a8c6d7729c064fb373aa16a55db04bf36bf14b252731f01be5b55135591d176aca57852d203c6a7e01407ae3fb19cd6cbfea6921c09bbcab9647e92ebf57dd0451d10ff6a54202cb7464d6808ef26a69f9bd74a9c2bdf59d4e0f6d61585d14f8d9f0f4c7d5a4728470ba81b3ba1f176da286e7ba27013dd3632db419c40b3bdcc22233f2ca489dee3a7114ee712a0edecc8ba43f28bc87899ad260142c33b44c1daf7bc0c78accf9038424ee47db5af6cc0bfbcf28c30a17e181b36b86a20e3071f945b9b0d2bc0862aa08906abfebee3738fcbc609a8d95974ea2f59f736029f3f6fd56430d36122b3fae41bc8b6821580c5f813aa2c50b6c099cc84b25e244159d1f258186e23d2aa4b25cedd952e563247d260e1889ca32520798cd77686f2eced6e517be95cc0aea58cdb52ac214a2c5b1f799a11ebeaa6ee0d2d18d6f9b8b9ecd8ad0d27505a4b67a4590552d9fc63e3f32e5263470976bb46a34a9beb262ca9882d543eaed8cbeb52ef1e8eaec17b5778eecc2ddc8caf49c2029dfaca3cd6e462a68ffe68fe7a5eea8768ddfee9dd1151214dc71ad1885ef3a034c7cb7c2e64ae592940a11ca9a7679ae1fa0c68cfa6626293a89d83b5ee3f241b0d1aa4c97c765f896cc6a912a74efc01e318d5aa7fca77a231d4a9a03965e289b744e8a0d716866e10b7b142cac9d9cf7c3eb29801ede423cd8c2136d422f5afb008fc213c7d8954dd295324299ff3bc556d8e9ef21d38a1945575d12b457478c3052a266a7eeb790b3ced50f8157853ef30d8dc5da75ee1ae3a54bb7f53cd785e8991f60158886b57c4c48c3bfde25bf316c419215f0cd76eceab5f092509f8488ba26c4d8f0165b994867169f0c7aaa4b156c93328cc8bc7c5c0205b376b09f506a17c0e8fa3f12399e4726c89bd0df1ea3a7096c4e88e5d76a20ff349c4ce0c4a203cc05ea4bd8a0dc77f4a47e7e6259a46f69d0246c36a309460306315e7d06321f429f227fe84d859b60bdc08b9ff65177d4d5df19f2ea3c55abe2ce54ca8ed1f6c53ca37d5739df503f93d469274d6bf3c4467d6b859379e1502d63898f8b9e96b00ada389d94a3baf40b619eb0b0e1ede382e404c947c6254e7bcbaf8438422d0a2264b6e351729a5ae6c7b2e9c9dffeec6b5f98fae0f07d875cb0e14d4e6eb4e0a8a2ac7591272ba7c84d3c95612baff0faf27fe3b1ab69fe2f13e2ea0cc3ff0967f1f75efa1447538bd6a952455dbb030eccfaa4638a68bd7fedfa28a74b47b75b6a78190bdf638ecd6ce3570f845d08cf5e62a9293f9ef71de34ba6e6fa58fcded495cccad75c2d77f179bc507c7668902e36a54a03af6e71bfb912e664b0cf74a948ec6b4708613229292d0247be36e9d7fde96c643a5f9834867cfc24ca3cd8822baf8cef1bf51bf982ebc0181004f7e458d95d073fef6756499ee9d0502d51f7041da4f936b6d6332ca07c1e3f57d7959ad01906a738168be077312d758d2b30bc25e43ddc78a39a8d55d8459e7b82f9c4772f5fb272afe37fe0ad30b5766f6cb9a0f8a6afbd22b6cac8e1dda54d68d3f7f77d8227b257e3e42780e2f8b2555b2800c7e87bc53c4dfcc39a19fb984b00ae58e19b9cab8e3584402db78756b220db5063ed88289b287eea414d408cd8fc05806689091bcdf56aebe49a49333aa56d0a0427caaaf27fa99a509ff696a11b7b57d7c1849ef1fc473cc5671cf38214e46b7a97ced231ea0fb6922de457b715c7f6d819bf7c73ef151c7db1e649ebd67ff49e9e60040b666041bbd12026bb34808a853f36d1272853e79b7a07969270c527fbb0de946bb4cb7ee4d7e026c5e1e83aedefdda1ad41f103f416bb2bb45ce0cbfc9679ec3f77095be119482bb5aa21a8dbebc23abedd290e164177b8426161738ced69211f65b5ac727c9e6b84f6ebc44076ea21ebc427bfa039bd4715439abf30147c3854fa4dd580b28b950e99ca68c756d197618840b8f16a2238f2d5ae001372277d5a4fbc5944085421a618209c97dbeba678903bd0772008f2959954de57ab656dee5d4d71f74ae0514ed7250cc1cb6afac8f379ef5c419e97ff573ef7c35e18308818cc3d6ca0900ba08e1b6d84401ecec63719bdc75e49c5e88f8b62f21f29c5f2b4d89132223686880388f3c8941b34b5b40ba4b4e1bcd86dec3a4fdda3da43346f5b88897d47c8f3d101da21512955c1a2c3db29ece1d297f517b93a945e43a85ba5ab050073d6f4bfd46d5055a3783bbf82f06d90f1acc76278401d32bc5fb255e745e961a2f3f9eea1839661d60bd0378442ff1e69600f68206c6669cc0496e92c2a766e79a9cc9f41fe3e3da726a0eca1b25e8356f8037c252f8372fb3aa2567e22e2627672303c9ba543043dd9fae0fbec3139573879972e8ebab2fde1111b69057f21125ec4ff780c0ccd01e591491f795c47f86ab56178559bdde17f342ff0f75e7a21c7d03cc2d5384ad3b6eab01d7a2e6c524a16edadb1a809df927ddf09a051f4c32631fc5aaa7c0ac8768067535d911d426334d6866c00667a72a7d4212e958b6a17db89c26662fa0b045fa87f84fd5b9528d622671ca5b48036da2d374994b0c8a655270a5b79f9a655f1a12a96a634061305dea3f2d4b1084816b7d2c19e65e6e78504e74dc7581f8d1f6506e0db1f2703cffcf20515d255aa31ad8d8acad0a251ec7efc36812b045eb9144d525b7f57894bef5a2f20c169beaa7f8f87f42d44761e8056f6746930682bffe84be12bcd53990e8199236226a4e0d8372a555eea0bcf71d201cc7894e7118743a0e59629fb4c3ff81473b99d1153856e200c6662eb38220d581355ed31e1afe751e962f03a881c2c32f7753428d3eb577b79dbc0a96bc5df1db9d124c87ba767a685157861e43de07a56932a2fe62e880786cd0728727787635181b0a6ac21ab1ff8a0ba0a2078847ee48ad432ebfe33def8a64618f4374a39bcb34c904b3cfb4cc143d966cfdab11fedf16600d34107efc1658bdcd9b921afd9bf5442b3c7d40896b99bcc9a6fa0196b86dd2d110a48ada343ced73e00f94cebc22cc9d0ae254ad7307fb5f1a7dc493e6a2143ff3b4e58ca876b4a1576bda152eb6c2a2bcd014a6f3c47f1c2fa05851caa5747eac9a72ad924ca71e5ca657e36ce35b19bf71cd4251891d51236fbfcb02e94e7dbb9d9bd61473fa9d250b2b259b69a5ac35f56399e5e583623e6d6b8d7474091d24b012b92cb7ae0bc6d073dbe749d988782cfcfbee227ec54860ece0a4ba0334edbc4fffaf99324705752cdc047e46702de43ae86e290e0690a86f088b7a435137ba3131ddcab1a7acbfbc2262111ffd4ffa5547b029fb91cc7469bcf5e649171ac850180c8cca2943d311deccb0ba5c33445e329e1b40d2433d663c9273767d276b9f344b3dfb9c175dea3ef29cc3615703ad553eaae545f912672c328363f3272b193557453c0fd9cb0d67923d740068e33ec7fae6eb5bd4c888e5609ce8a6650dbb39e6cba571f16435b196cd3d43f0972013a3bea2bd03ee180a63f220bcf17f3de29d30ed73200e5ae20888f7f7488a7b76d52ffed6462b0bdef6da7f6bd75f96fb64d7ccfbae8d91a6d9a8e948723ec94a380f5e49f5a36a3875f7e262b4edc3be10255693a19666f5c757303f3f9d2cb240f6f9f9d4ea7e0d46ecb94b946a71693ca4a5e6aa3696aba23780e088b51c477ad2204a96ab82547b28a30faf6bc7fd507a20a1a76b05d093344f524ef930060faaf5d764973091a13050a7caf8b76029e90028ee84228f6562313438b3ed6812a8212db9f2ee3b213444e26dd67780f4e0ccf1ac12c19c72460755893ecb75bc136362c96c73ee5b3a419bfb3037d1e81ecc077134955a0890abcbeeb6d8f3d2d0136aede076a8d3cb9bfda2fbaf9df471772f7e50d10855bb8ffa72e3b996477bc5be16754dc82708fbd1b93e9391209d170e98834b100f6f09ba6e2909f1952052e24275cf1583ae2a369ea24c74f7eeea4e67876d6820b47260b17d05872b8799d1f103a34e9208545617af55161da21aec6f53e966ba19091b888017026e28216e7ffe7841a724fdda40792141e34c48e1c9fb40ff04f32a4262c8be3f45daecbc1e36753726ccfa5677ff8a81d21ab9014c9c074dffd02fbdc4a1a04bfdf1db352628a4e8c84946313c0c9e83c791df9da9736577971892c6b9166014f0f1b140e138291191ed8f8fb4194590b0dd267e50849bbc7a270a6e42194eb643ce42c97fe4f0571d054f9c48027635d351cd074dabba25119a11041d9f76981abc70369cdeb80e7eb8b5f38ae45ef2efa6c3beb4df3f8c51354ffc176b2cbf08f0fced83654b6a2a8b7d6cefd9c1f19644d0ba19f1fb64fb7cb133d673500cd1b127135b566bc8e2a43810388606d8ef79bb55b37e53f6245f5a58b147013a1787a67bfc0ebabd452a6078a4bc9674511c342430d5327fae12ab23b2fb968e3f6c4d044498a117c9c25e29ae90b37836adce213f96865426599abe220fb25978c8e7fd7513275c735cc0c2b19855e6ec1553310b07364a295052ad7e1abec586fe70947671b4c8249d7c08c9ab6444c64d78398a8c8312210ac7ecf3023dfe0d2212edec43092a0e9aca16396c63fbbe34c3367e4904f6c49e3f1cff2b34b0297305e2cf7596b6c75439ec4496ae5979246413d8fe953d6e2979dd2501ff79e2e5808008fbb6d0f94dca0bf10e62e78d77b26f834c574c03032a078f7adab8efab0a3d32b64c4458a75aabce7b6c55a300792c59f0b5c386b2e18c1e5f6a26d00136f8ddbcd642ab1ff589558c15ef2b1b7168a401e32e30d82826faa80025790df06c360ed5dfd0fb43af6c21be69b6ccccf486754ca7e7da8579b341511fa10c53961956a3f42ea65471ee87e1555708cf78fc20a66ae70d1679af7fa4d212b2a5500f4dfb9129ec78dbf02fad706c6508d3c6dc36406f095576c4a3b8c1f81747883726c8343feb2dc6ae241cb64d319902da60377385384a40dcb61095577cfa6dbd757871f9008e3e574dc0db699394ba6b64cef3f05325ce0d089eaf494d87ecca1a6e165b1bd10b5654fe206020dc01961cca21257fe06f727a5a4e3d6b530ee24f766385e3ad28add365a7ce3964a569b2f91fdab27e961e932eb54369c02b67a2c9005607f475c421e7647bc7f1dd97031f7e76c44cc9cc6f23d315ad1563cf08bf8502f4ada13485cd03f613325630c3d8';


function searchKeyVal($filename, $val_key){

	// получаем файл из пути описанном в $filename
	$file = file_get_contents($filename);
	$file_parse = explode('\x0A', $file);

	// сортируем массив по порядку на увеличение, и находим длину массива
	array_multisort($file_parse, SORT_ASC);
	$leng = count($file_parse);
	
	// запускаем цикл проверки ключа на соответствие
	while ($leng >= 1) {
		$leng = intdiv(count($file_parse), 2);
		$arr_file = explode('\t', $file_parse[$leng]);
		
		if ($arr_file[0]==$val_key) {
			$str = "'['$arr_file[0]']' => $arr_file[1]";
			break;
		}elseif($arr_file[0]<$val_key){
			$file_parse = array_slice($file_parse, $leng, count($file_parse));
			$str = "undef";
		}else{
			$file_parse = array_slice($file_parse, 0, $leng);
			$str = "undef";
		}
	}
	// вывод результата
	echo "$str";
}
 ?>